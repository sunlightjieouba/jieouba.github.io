/*接口更新说明   zdclient.js*/

/*modify by zl 2015-11-05*/
1、更新了Zondy.Map.TileLayer类。
   接口：瓦片地图裁图方式接口tileOriginType。
   ps：将tileOriginType:"leftBottom"改为tileVersion:"newTile"。
   说明：瓦片版本，是MapGIS 10裁图的新瓦片，还是MapGIS K9裁图的旧瓦片。
         newTile表示采用MapGIS 10裁图的新瓦片；oldTile表示MapGIS K9裁图的旧瓦片。默认值是newTile

/*modify by liuruoli 2015-11-11*/
2、更新了Zondy.Map.GoogleLayer类。
   接口：克隆此图层方法clone。
   ps：解决加载鹰眼之后，地图不能正常显示问题，将OpenLayers.Layer.TileLayer类改为Zondy.Map.GoogleLayer
   
/*modify by liuruoli 2015-11-11*/
3、更新了Zondy.Map.TianDiTu类。
   接口：克隆此图层方法clone。
   ps：解决加载鹰眼之后，地图不能正常显示问题，将OpenLayers.Layer.TileLayer改为Zondy.Map.TianDiTu

/*modify by liuruoli 2015-11-10*/
4、更新了Zondy.Map.Doc类。
   接口：getURL方法。
   ps：（1）将this.p_cacheOrigin = new OpenLayers.LonLat(this.cacheBox.left, this.cacheBox.bottom);改为this.p_cacheOrigin = new OpenLayers.LonLat(this.cacheBox.left, this.cacheBox.top);
       （2）将代码段： if (this.p_cacheOrigin.lat > latCenter) {
                           newParams.row = Math.round((this.p_cacheOrigin.lat - bounds.top) / (res * this.tileSize.h)); //按新裁图方式
                       } else {
                           newParams.row = Math.round((bounds.bottom - this.p_cacheOrigin.lat) / (res * this.tileSize.h)); //按左下角为原点计算
                       }
			改为： 	   newParams.row = Math.round((this.p_cacheOrigin.lat - bounds.top) / (res * this.tileSize.h)); //按新裁图方式
   说明：将裁剪原点改为左上角（MapGIS 10的裁图方式），之前为左下角（MapGIS K9裁剪方式）。

/*modify by zl 2015-11-11*/
5、更新了Zondy.Map.TileLayer类。 
   接口：setMap方法。
   ps：修改了默认的瓦片地图的原点，若用户未设置原点，则内部自动赋值，以用户赋值为准

/*modify by liuruoli 2015-11-11*/
6、更新了Zondy.Map.GaodeCache类。
   ps：更新了类名。将原类名Zondy.Map.GaodeCache改为Zondy.Map.GaodeLayer。
   更新了类TianDiTuLayer类。
   ps：更新了类名。将原类名Zondy.Map.TianDiTu改为Zondy.Map.TianDiTuLayer。

/*modify by liuruoli 2015-11-13*/
7、更新了Zondy.Map.TianDiTu类。
   接口：layerType。
   ps：将vec改为vector，将img改为raster，将cva改为vectorAnnotation，将cia改为rasterAnnotation，将cva_igs改为vectorAnnotation_igs，将cia_igs改为rasterAnnotation_igs，将vec_igs改为vector_igs，将img_vector改为raster_igs。
   说明：与Google统一命名，便于用户辨识。

/*modify by liuruoli 2015-11-13*/
8、更新了Zondy.Map.GaodeLayer类
   接口：myResolutions属性
   ps：去掉最后一个分辨率后面的逗号。

/*modify by liuruoli 2015-11-13*/
9、更新了Zondy.Map.GaodeLayer类
   接口：clone方法。
   ps：将代码段obj = new OpenLayers.Layer.TileLayer(this.name,
                                           this.url,
                                           this.getOptions());
	   修改为obj = new Zondy.Map.GaodeLayer(this.getOwnPropertyNames, this.url, this.getOptions());


/*modify by liuruoli 2015-11-13*/
10、更新了第三方地图服务(天地图、谷歌、高德)。
    接口：setMap方法。
	ps：将this.tileOrigin = new OpenLayers.LonLat(this.map.maxExtent.left, this.map.maxExtent.bottom);
	    改为this.tileOrigin = new OpenLayers.LonLat(this.map.maxExtent.left, this.map.maxExtent.top);

/*modify by liuruoli 2015-11-13*/
11、更新了Zondy.Map.ArcGISMap类
    ps：将类名Zondy.Map.ArcGISMap改为Zondy.Map.ArcGISLayer。自此，所有第三方地图的命名统一。

/*modify by liuruoli 2015-11-13*/
12、更新了Zondy.Map.ArcGISLayer类。
    接口：clone方法。
	ps：将代码段obj = new OpenLayers.Layer.TileLayer(this.name,
                                           this.url,
                                           this.getOptions());
	    改为obj = new Zondy.Map.ArcGISLayer(this.name,this.url,this.getOptions());

/*modify by liuruoli 2015-11-13*/
13、更新了Zondy.Map.Baidu类。
    接口：将类名改为Zondy.Map.BaiduLayer。更新了clone方法。
	ps：将代码段obj = new OpenLayers.Layer.TileLayer(this.name,
                                           this.url,
                                           this.getOptions());
	    改为obj = new Zondy.Map.BaiduLayer(this.name,this.url,this.getOptions());

/*modify by liuruoli 2015-11-16*/
14、更新了Zondy.Map.BaiduLayer类。
    接口：getURL方法。
	ps:将代码段if (x < 0)
                    x = "M1";
                if(y < 0) {
                    y = "M1";
                }
	   
	   改为：if (x == -1)
                    x = "M1";
                else if (x == -2) {
                    x = "M2";
                }
                else if (x == -3) {
                    x = "M3";
                } else if (x == -4) {
                    x = "M4";
                }

                if (y == -1)
                    y = "M1";
                else if (y == -2) {
                    y = "M2";
                }
                else if (y == -3) {
                    y = "M3";
                } else if (y == -4) {
                    y = "M4";
                }

/*modify by liuruoli 2015-11-24*/
15、更新了Zondy.Service.Catalog.VectorLayer类
    接口：getSfclsList、getAclsList、getOclsList、getNclsList、getRdsList
	ps：（1）将this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.dsName + "/sfcls?f=" + this.resultFormat;
	         改为：this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName +"/sfcls?f=" + this.resultFormat;
	    （2）将this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.dsName + "/acls?f=" + this.resultFormat;
		     改为this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/acls?f=" + this.resultFormat;
		（3）将this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.dsName + "/ocls?f=" + this.resultFormat;
		     改为：this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName  + "/ocls?f=" + this.resultFormat;
		（4）将this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.dsName + "/ncls?f=" + this.resultFormat;
		     改为：this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName +  "/ncls?f=" + this.resultFormat;
		（5）将this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.rcsName + "/rds?f=" + this.resultFormat;
		     改为：this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName  + "/rds?f=" + this.resultFormat;

/*modify by liuruoli 2015-11-24*/
16、更新了Zondy.Service.Catalog.MapDoc类
    接口：getMapDocInfo
	ps：将this.partUrl += "&include=" + includeObj.toJSON();
	    改为：this.partUrl += "&returnFullStyle="+returnFullStyle + "&include=" + includeObj.toJSON();
		将getMapDocInfo: function (onSuccess, details, sub)
		改为getMapDocInfo: function (onSuccess,returnFullStyle, details, sub)
		
/*modify by liuruoli 2015-11-24*/
17、更新了Zondy.Service.Catalog.MapDoc类
    接口：getMapInfo
	ps：将this.partUrl += "&include=" + includeObj.toJSON();
	    改为：this.partUrl += "&returnFullStyle=" + returnFullStyle + "&include=" + includeObj.toJSON();
		将getMapInfo: function (onSuccess, details, sub)
		改为getMapInfo: function (onSuccess,returnFullStyle, details, sub)

/*modify by liuruoli 2015-11-25*/
18、更新了Zondy.Service.Catalog.MapDoc类
    接口：addLayer、createDoc
	ps：屏蔽了这两个方法

/*modify by liuruoli 2015-11-29*/
19、新增了Zondy.Map.SoGouLayer类

/*modify by liuruoli 2015-11-29*/
20、新增了Zondy.Map.BingLayer类


/*modify by huangjin 2015-12-04*/
21、更新了Zondy.Service.Catalog.GDBInfo类
    接口：setGdbName、setServerName
	ps：将this.GDBServerName = serverName;
	    改为this.serverName = serverName;
		将this.GDBName = gdbName;
		改为this.gdbName = gdbName;
		
/*modify by huangjin 2015-12-04*/
22、更新了Zondy.Service.QueryDocFeature类
    接口：initialize函数
	ps：将initialize: function (queryParam, docName,layerIndex, options)
	    改为：initialize: function (queryParam, docName, mapIndex, layerIndex, options)
	    新增this.docName = docName;
        将this.partUrl = "docs/" + this.mapName + "/" + this.layerIndex.toString() + "/query";
		改为：this.partUrl = "docs/" + this.docName + "/" + this.mapIndex.toString() + "/" + this.layerIndex.toString() + "/query";

/*modify by liuruoli 2015-12-07*/
23、更新了Zondy.Service.EditDocFeature 类
    接口：initialize函数
	ps：将initialize: function (docName, layerIndex, options) 
	    改为initialize: function (docName, mapIndex, layerIndex, options)
		新增this.mapIndex = mapIndex;
        将this.partUrl = "docs/" + this.mapName + "/" + this.layerIndex.toString() + "/query";
		改为：this.partUrl = "docs/" + this.docName + "/" + this.mapIndex.toString() + "/" + this.layerIndex.toString() + "/query";

/*modify by liuruoli 2015-12-08*/
24、更新了Zondy.Service.QueryServiceBase类
    接口：query方法
	ps：将this.restQuery(fullRestUrl, dataObject, onSuccess);
	    改为this.restQuery(fullRestUrl, dataObject, onSuccess,way);
		将this.ajax(restUrl, dataObject, this.processResult, "GET", null, dataObject.f);
		改为：this.ajax(restUrl, dataObject, this.processResult, way, null, dataObject.f);
	    新增var way = "";
        if (!this.requestType) {
            way = "GET";
        } else {
            way = this.requestType;
        }

/*modify by liuruoli 2015-12-22*/
25、更新了Zondy.Service.NetAnalysis类
    ps：将老版本的注释为Zondy.Service.NetAnalysis_old
	    将新版本命名为Zondy.Service.NetAnalysis，替换老版本进行服务调用。
		新增Zondy.Object.NetAnalyse类。

 /*modify by ZL 2016/01/11*/
 26、更新了Zondy.Map.TileLayer类
     接口：getURL方法
      ps：增加了瓦片每一级的最大行列号和最小行列号，以便于判断当前计算的行列好是否在该范围内
        if (this.lod && this.lod.length > 0) {
            var currentLod = this.lod[parseInt(z)];
            if (currentLod == undefined || currentLod == null || currentLod.startRow == null || currentLod.endRow == null || currentLod.startCol == null || currentLod.endCol == null) {
                return;
            }
            if (y < currentLod.startRow || y > currentLod.endRow || x < currentLod.startCol || x > currentLod.endCol) {
                return;
            }
        }
      更新了GlobalDefine类
	  ps：直接替换整类

/*modify by liuruoli 2016-01-19*/
26、更新了Zondy.Object.FeatureSet类
   ps：initialize方法中新增代码
        this.clear();

/*modify by liuruoli 2016-01-25*/
27、更新了GlobalDefine类
   ps：完善了自动添加zondy的地图

/*modify by liuruoli 2016-01-25*/
28、更新了Zondy.Map.TileLayer类
   接口：initialize方法，删除了initialize方法中的this.setLevelExtent()这一行
   接口：getURL方法增加了动态裁图的判断，即动态裁图的瓦片也可以使用当前类来进行显示，但是不能设置update之类的参数，

   PS：	//=======增加了是否是动态裁图的瓦片进行判断 modify by ZL 2016/01/25=========
		if (this.cache != undefined && this.cache == true) {
			if (currentLod == undefined || currentLod == null || currentLod.StartRow == null || currentLod.EndRow == null || currentLod.StartCol == null || currentLod.EndCol == null) {
				return;
			}
			if (y < currentLod.StartRow || y > currentLod.EndRow || x < currentLod.StartCol || x > currentLod.EndCol) {
				return;
			}
		} else {
			if (currentLod == undefined || currentLod == null || currentLod.startRow == null || currentLod.endRow == null || currentLod.startCol == null || currentLod.endCol == null) {
				return;
			}
			if (y < currentLod.startRow || y > currentLod.endRow || x < currentLod.startCol || x > currentLod.endCol) {
				return;
			}
		}

/*modify by zl 2016-01-29*/
29、更新了Zondy.Map.Doc类
   属性：增加了zoomOffset属性,以便用户可以从第几次显示
   接口：getURL方法，增加了zoomOffset的参数，增加了每一级行列好最大值最小值的判断
    PS:   //===========modify by ZL 2016/01/25 增加了参数zoomOffset，以便于能设置从第几级开始显示动态瓦片===================
            newParams.level = this.getZoomForResolution(res, true) + this.zoomOffset;
            //beginLevel参数为内部使用，不能外部赋值
            if (this.beginLevel) {
                newParams.level = newParams.level - this.beginLevel;
            }
            //=========modify by ZL 2016/01/25 增加了瓦片每一级的最大行列号和最小行列号，以便于判断当前计算的行列好是否在该范围内=======
            if (this.lod && this.lod.length > 0) {
                var currentLod = this.lod[parseInt(newParams.level)];
                if (currentLod == undefined || currentLod == null || currentLod.StartRow == null || currentLod.EndRow == null || currentLod.StartCol == null || currentLod.EndCol == null) {
                    return;
                }
                if (newParams.row < currentLod.StartRow || newParams.row > currentLod.EndRow || newParams.col < currentLod.StartCol || newParams.col > currentLod.EndCol) {
                    return;
                }
            }
            //==========================================================================================================================
/*modify by zl 2016-01-29*/
30、更新了属性OpenLayers.Map.prototype.isAutoConfig为true
    PS：OpenLayers.Map.prototype.isAutoConfig = true;

/*modify by zl 2016-01-29*/
31、更新了Zondy.Map.Doc类
    接口：clone方法中原有方法错误，将
	obj = new OpenLayers.Layer.WMS(this.name,
                                           this.url,
                                           this.params,
                                           this.getOptions());
	更改为了
	obj = new Zondy.Map.Doc(this.name,this.getOptions());

/*modify by zl 2016-01-29*/
32、更新了Zondy.Map.Layer类
    属性：增加了zoomOffset的参数

/*modify by liuruoli 2016-01-29*/
33、更新了Zondy.Map.Layer、Zondy.Map.Doc、Zondy.Map.TileLayer类
    属性：增加了layerAddCallBack图层添加完后执行的回调方法
//==========================================================================================================================
/*modify by wsy 2016-01-27*/
34、新增了Zondy.Service.MultiGeoQueryParameter（多几何查询参数） 类、Zondy.Service.MultiGeoQuery（ 多几何查询服务类）、Zondy.Service.ObjClsQueryParameter（对象类查询参数类）、Zondy.Service.ObjClsQuery（对象类查询服务类）

/*modify by liuruoli 2016-02-19*/
35、更新了Zondy.Service.Catalog.CatalogServiceBase类
    ps:删除参数resultFormat: "json"

/*modify by liuruoli 2016-02-19*/
36、更新了Zondy.Service.HttpRequest类
    ps：1、新增参数resultFormat: "json",
	    2、更新了ajax方法
		   将var dataType = this.analysisResultType(resultFormat);修改为var dataType = this.analysisResultType(this.resultFormat);

/*modify by liuruoli 2016-02-19*/
37、更新了Zondy.Service.Catalog.GDBInfo类
    方法：getGDBList
	ps：将this.partUrl = "datasource/" + this.serverName + "?f=" + this.resultFormat;
	    修改为：if (this.serverName.toLowerCase() == "mapgislocal")
            this.partUrl = "datasource/" + this.serverName + "?f=" + this.resultFormat;
        else
            this.partUrl = "datasource/" + this.serverName + "?user=" + this.User + "&psw=" + this.Password + "&f=" + this.resultFormat;

/*modify by liuruoli 2016-02-19*/
38、更新了Zondy.Service.Catalog.GDBInfo类
    方法：getDsList
	ps：将this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/ds?f=" + this.resultFormat;
	    修改为：if (this.serverName.toLowerCase() == "mapgislocal")
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/ds?containAll=" + this.containAll+"&f=" + this.resultFormat;
        else
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/ds?user=" + this.User + "&psw=" + this.Password + "&containAll=" + this.containAll + "&f=" + this.resultFormat;

/*modify by liuruoli 2016-02-20*/
39、更新了Zondy.Service.Catalog.GDBInfo类
    方法：getRcsList
	ps：将this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/rcs?f=" + this.resultFormat;
	    修改为：if (this.serverName.toLowerCase() == "mapgislocal")
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/rcs?f=" + this.resultFormat;
        else
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/rcs?user=" + this.User + "&psw=" + this.Password + "&containAll=" + this.containAll + "&f=" + this.resultFormat;
    说明：新增接口对SQL等网络数据源的支持

/*modify by liuruoli 2016-02-20*/
40、更新了Zondy.Service.Catalog.MapDoc类
    方法：getMapDocList
	ps：将this.partUrl = "docs?f=" + this.resultFormat;
	    修改为：this.partUrl = "docs?v="+this.version+"&f=" + this.resultFormat;
	参数：version
	ps：新增参数version:null,

/*modify by liuruoli 2016-02-20*/
41、更新了Zondy.Service.Catalog.MapDoc类
    方法：getMapDocInfo
	ps：将this.partUrl = "docs/" + this.docName + "?f=" + this.resultFormat;
	    修改为：

    参数：guid、include、returnFullStyle、userid
	ps：新增参数guid、include、returnFullStyle、userid

/*modify by liuruoli 2016-02-20*/
42、更新了Zondy.Service.Catalog.IncludeStruct类
    方法：initialize
	ps：将initialize: function (details, subs) {
        /// <summary>构造函数</summary>
        /// <param name="details" type="Boolean">是否包含细节内容</param>
        /// <param name="subs" type="Boolean">是否包含子项</param>
        if (details instanceof Boolean)
            this.includeDetails = details;
        if (subs instanceof Boolean)
            this.includeSubs = subs;
    },
	修改为：initialize: function () {
    },

/*modify by liuruoli 2016-02-20*/
43、更新了Zondy.Service.Catalog.MapDoc类
    方法：getMapInfo
	ps：将this.partUrl = "docs/" + this.docName + "/" + this.mapIndex + "?f=" + this.resultFormat;
	    修改为：

/*modify by liuruoli 2016-02-20*/
44、更新了Zondy.Service.Catalog.MapDoc类
    方法：getLayerInfo
	ps：将this.partUrl = "docs/" + this.docName + "/" + this.mapIndex + "/" + this.layerID + "?f=" + this.resultFormat;
	    修改为：this.partUrl = "docs/" + this.docName + "/" + this.mapIndex + "/" + this.layerID + "?returnFullStyle=" + this.returnFullStyle + "&userid=" + this.userid+"&guid="+this.guid+"&f=" + this.resultFormat;

/*modify by liuruoli 2016-02-20*/
45、更新了Zondy.Service.Catalog.MapDoc类
    方法：addLayer
	ps：将this.partUrl = "docs/" + this.docName + "/" + this.mapIndex + "/layers/add?f=" + this.resultFormat;
	    修改为：this.partUrl = "docs/" + this.docName + "/" + this.mapIndex + "/layers/add?userid="+this.userid+"&guid="+this.guid+"&f=" + this.resultFormat;

/*modify by liuruoli 2016-02-20*/
46、更新了Zondy.Service.Catalog.MapDoc类
    方法：deleteLayer
	ps：将this.partUrl = "docs/" + this.docName + "/" + this.mapIndex + "/layers/delete?f=" + this.resultFormat + "&layerIDs=" + this.layerID;
	    修改为：this.partUrl = "docs/" + this.docName + "/" + this.mapIndex + "/layers/delete?layerIDs=" + this.layerID+"&userid=" + this.userid + "&guid=" + this.guid + "&f=" + this.resultFormat;

/*modify by liuruoli 2016-02-21*/
47、更新了Zondy.Service.Catalog.MapDoc类
    方法：changeIndex
	ps：将this.partUrl = "docs/" + this.docName + "/" + this.mapIndex + "/layers/index?f=" + this.resultFormat;
	    修改为：this.partUrl = "docs/" + this.docName + "/" + this.mapIndex + "/layers/index?userid="+this.userid+"&guid="+this.guid+"&f=" + this.resultFormat;

/*modify by liuruoli 2016-02-21*/
48、更新了Zondy.Service.Catalog.VectorLayer类
    方法：getSfclsList
	ps：将this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/sfcls?f=" + this.resultFormat;
	    修改为： if (this.serverName.toLowerCase() == "mapgislocal")
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/sfcls?containAll=" + this.containAll + "&f=" + this.resultFormat;
        else
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/sfcls?user=" + this.User + "&psw=" + this.Password + "&containAll=" + this.containAll + "&f=" + this.resultFormat;

/*modify by liuruoli 2016-02-21*/
49、更新了Zondy.Service.Catalog.VectorLayer类
    方法：getAclsList
	ps：将this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/acls?f=" + this.resultFormat;
	    修改为：if (this.serverName.toLowerCase() == "mapgislocal")
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/acls?containAll=" + this.containAll + "&f=" + this.resultFormat;
        else
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/acls?user=" + this.User + "&psw=" + this.Password + "&containAll=" + this.containAll + "&f=" + this.resultFormat;

/*modify by liuruoli 2016-02-21*/
50、更新了Zondy.Service.Catalog.VectorLayer类
    方法：getOclsList
	ps：将this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/ocls?f=" + this.resultFormat;
	    修改为：if (this.serverName.toLowerCase() == "mapgislocal")
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/ocls?containAll=" + this.containAll + "&f=" + this.resultFormat;
        else
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/ocls?user=" + this.User + "&psw=" + this.Password + "&containAll=" + this.containAll + "&f=" + this.resultFormat;

/*modify by liuruoli 2016-02-21*/
51、更新了Zondy.Service.Catalog.VectorLayer类
    方法：getNclsList
	ps：将this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/ncls?f=" + this.resultFormat;
	    修改为：if (this.serverName.toLowerCase() == "mapgislocal")
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/ncls?containAll=" + this.containAll + "&f=" + this.resultFormat;
        else
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/ncls?user=" + this.User + "&psw=" + this.Password + "&containAll=" + this.containAll + "&f=" + this.resultFormat;

/*modify by liuruoli 2016-02-21*/
52、更新了Zondy.Service.Catalog.VectorLayer类
    方法：getRdsList
	ps：将this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/rds?f=" + this.resultFormat;
	    修改为：if (this.serverName.toLowerCase() == "mapgislocal")
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/rds?containAll=" + this.containAll + "&f=" + this.resultFormat;
        else
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/rds?user=" + this.User + "&psw=" + this.Password + "&containAll=" + this.containAll + "&f=" + this.resultFormat;

/*modify by liuruoli 2016-02-21*/
53、更新了Zondy.Service.Catalog.VectorLayer类
    方法：getLayerList
	ps：将this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + clsType + "?f=" + this.resultFormat;
	    修改为：if (this.serverName.toLowerCase() == "mapgislocal")
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + clsType + "?containAll=" + this.containAll + "&f=" + this.resultFormat;
        else
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + clsType + "?user=" + this.User + "&psw=" + this.Password + "&containAll=" + this.containAll + "&f=" + this.resultFormat;

/*modify by liuruoli 2016-02-21*/
54、更新了Zondy.Service.Catalog.VectorLayer类
    方法：getDsSfclsList
	ps：将this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.dsName + "/sfcls?f=" + this.resultFormat;
	    修改为：if (this.serverName.toLowerCase() == "mapgislocal")
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.dsName + "/sfcls?f=" + this.resultFormat;
        else
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.dsName + "/sfcls?user=" + this.User + "&psw=" + this.Password + "&f=" + this.resultFormat;

/*modify by liuruoli 2016-02-21*/
55、更新了Zondy.Service.Catalog.VectorLayer类
    方法：getDsAclsList
	ps：将this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.dsName + "/acls?f=" + this.resultFormat;
	    修改为：if (this.serverName.toLowerCase() == "mapgislocal")
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.dsName + "/acls?f=" + this.resultFormat;
        else
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.dsName + "/acls?user=" + this.User + "&psw=" + this.Password + "&f=" + this.resultFormat;

/*modify by liuruoli 2016-02-21*/
56、更新了Zondy.Service.Catalog.VectorLayer类
    方法：getDsOclsList
	ps：将this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.dsName + "/ocls?f=" + this.resultFormat;
	    修改为：if (this.serverName.toLowerCase() == "mapgislocal")
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.dsName + "/ocls?f=" + this.resultFormat;
        else
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.dsName + "/ocls?user=" + this.User + "&psw=" + this.Password + "&f=" + this.resultFormat;

/*modify by liuruoli 2016-02-21*/
57、更新了Zondy.Service.Catalog.VectorLayer类
    方法：getDsNclsList
	ps：将this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.dsName + "/ncls?f=" + this.resultFormat;
	    修改为：if (this.serverName.toLowerCase() == "mapgislocal")
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.dsName + "/ncls?f=" + this.resultFormat;
        else
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.dsName + "/ncls?user=" + this.User + "&psw=" + this.Password +  "&f=" + this.resultFormat;

/*modify by liuruoli 2016-02-21*/
58、更新了Zondy.Service.Catalog.VectorLayer类
    方法：getRdsListInRcs
	ps：将this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.rcsName + "/rds?f=" + this.resultFormat;
	    修改为：if (this.serverName.toLowerCase() == "mapgislocal")
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.rcsName + "/rds?f=" + this.resultFormat;
        else
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.rcsName + "/rds?user=" + this.User + "&psw=" + this.Password + "&f=" + this.resultFormat;

/*modify by liuruoli 2016-02-21*/
58、更新了Zondy.Service.Catalog.VectorLayer类
    方法：getLayerListInDS
	ps：将this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.dsName + "/" + clsType + "?f=" + this.resultFormat;
	    修改为： if (this.serverName.toLowerCase() == "mapgislocal")
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.dsName + "/" + clsType + "?f=" + this.resultFormat;
        else
            this.partUrl = "datasource/" + this.serverName + "/" + this.gdbName + "/" + this.dsName + "/" + clsType + "?user=" + this.User + "&psw=" + this.Password +"&f=" + this.resultFormat;

/*modify by huangjin 2016-02-21*/
59、新增Zondy.Map.HeatMapLayer类

/*modify by liuruoli 2016-02-23*/
60、更新了Zondy.Service.Catalog.MapDoc类
    参数：新增guid
	方法：initialize
	ps：新增 if (this.guid == null) {
            this.guid = Zondy.Util.newGuid();
        }

    方法：所有涉及userid的方法，getMapDocInfo、getMapInfo、getLayerInfo、deleteLayer、addLayer、changeIndex
	ps：去掉url串中的userid。

/*modify by liuruoli 2016-02-23*/
61、更新了Zondy.Service.HttpRequest类
    方法：ajaxForIE
	ps：将if (data) {
                for (var key in data) {
                    params = params + '&' + key + '=' + data[key];
                }
                params = params.substring(1, params.length);
                if (OpenLayers.String.contains(url, '?'))
                    url += params;
                else
                    url = url + "?" + params;
            }
            url = decodeURI(url);
            url = encodeURI(url);
            
        修改为：if (data) {
                for (var key in data) {
                    params = params + '&' + key + '=' + encodeURIComponent(data[key]);
                }
                params = params.substring(1, params.length);
                if (OpenLayers.String.contains(url, '?'))
                    url += params;
                else
                    url = url + "?" + params;
            }else {
                url = decodeURI(url);
                url = encodeURI(url);
            }

/*modify by liuruoli 2016-02-23*/
62、更新了Zondy.Service.NetAnalysis类
    方法：删除了addNetFlag、getNetInfo两个方法

/*modify by liuruoli 2016-03-10*/
63、更新了Zondy.Map.ArcGISLayer类
    方法：setMap
	ps：将setMap: function (map) {
        OpenLayers.Layer.Grid.prototype.setMap.apply(this, arguments);
        if (!this.tileOrigin) {
            this.tileOrigin = new OpenLayers.LonLat(this.map.maxExtent.left,
                                                this.map.maxExtent.bottom);
        }
        
    }
	修改为：setMap: function (map) {
        if (map != null && map.maxExtent != null) {
            var max_resolution = (map.maxExtent.top - map.maxExtent.bottom) / 256;
            map.maxResolution = max_resolution;
        }
        OpenLayers.Layer.Grid.prototype.setMap.apply(this, arguments);
        if (!this.tileOrigin) {
            this.tileOrigin = new OpenLayers.LonLat(this.map.maxExtent.left,
                                                this.map.maxExtent.bottom);
        }
    }
	解决：统一ArcGIS地图的调用，使之不设置maxResolution，地图能正常显示，之前需要设置top-bottom才正常

/*modify by liuruoli 2016-04-18*/
64、更新了Zondy.Service.QueryDocFeature类
    方法：initialize
	ps：将initialize: function (queryParam, docName,mapIndex,layerIndex, options) {
        /// <summary>构造函数</summary>
        /// <param name="queryParam" type="Zondy.Service.QueryGeometryParameter">几何查询的参数类</param>
        /// <param name="docName" type="String">文档名称</param>
        /// <param name="layerIndex" type="Interger">图层序号</param>
        /// <param name="options" type="Object">属性赋值对象</param>
        $.extend(this, options);

        this.queryParam = queryParam;
        this.docName = docName;
        this.mapIndex = mapIndex;
        this.layerIndex = layerIndex;
        this.partUrl = "docs/" + this.docName + "/" + this.mapIndex.toString() + "/" + this.layerIndex.toString() + "/query";
        Zondy.Service.QueryServiceBase.prototype.initialize.apply(this);
    },
	改为：initialize: function (queryParam, docName,layerIndex, options) {
        /// <summary>构造函数</summary>
        /// <param name="queryParam" type="Zondy.Service.QueryGeometryParameter">几何查询的参数类</param>
        /// <param name="docName" type="String">文档名称</param>
        /// <param name="layerIndex" type="Interger">图层序号</param>
        /// <param name="options" type="Object">属性赋值对象</param>
        $.extend(this, options);

        this.queryParam = queryParam;
        this.docName = docName;
//        this.mapIndex = mapIndex;
        this.layerIndex = layerIndex;
        this.partUrl = "docs/" + this.docName + "/" + this.mapIndex.toString() + "/" + this.layerIndex.toString() + "/query";
        Zondy.Service.QueryServiceBase.prototype.initialize.apply(this);
    },



/*modify by liuruoli 2016-04-18*/
65、更新了Zondy.Service.EditDocFeature类
    方法：initialize
	ps：将initialize: function (docName, mapIndex, layerIndex, options) {
        /// <summary>构造函数</summary>
        /// <param name="docName" type="String">文档名称</param>
        /// <param name="layerIndex" type="Interger">图层序号</param>
        /// <param name="options" type="Object">属性赋值对象</param>
        $.extend(this, options);
        this.docName = docName;
        this.mapIndex = mapIndex;
        this.layerIndex = layerIndex;
        this.partUrl = "docs/" + this.docName + "/" + this.mapIndex.toString() + "/" + this.layerIndex.toString();
        Zondy.Service.EditServiceBase.prototype.initialize.apply(this);
    },
	改为：
	initialize: function (docName, layerIndex, options) {
        /// <summary>构造函数</summary>
        /// <param name="docName" type="String">文档名称</param>
        /// <param name="layerIndex" type="Interger">图层序号</param>
        /// <param name="options" type="Object">属性赋值对象</param>
        $.extend(this, options);
        this.docName = docName;
//        this.mapIndex = mapIndex;
        this.layerIndex = layerIndex;
        this.partUrl = "docs/" + this.docName + "/" + this.mapIndex.toString() + "/" + this.layerIndex.toString();
        Zondy.Service.EditServiceBase.prototype.initialize.apply(this);
    },


/*modify by liuruoli 2016-04-18*/
66、更新了Zondy.Service.MultiGeoQuery 类
    方法：initialize
	ps：将initialize: function (queryParam, docName, mapIndex, layerIndex, options) {
        /// <summary>构造函数</summary>
        /// <param name="queryParam" type="Zondy.Service.MultiGeoQueryParameter">多几何查询的参数类</param>
        /// <param name="docName" type="String">文档名称</param>
        /// <param name="mapIndex" type="Interger">地图序号</param>
        /// <param name="layerIndex" type="String">图层序号</param>
        /// <param name="options" type="Object">属性赋值对象</param>
        $.extend(this, options);

        this.queryParam = queryParam;
        this.mapName = docName;
        this.mapIndex = mapIndex;
        this.layerIndex = layerIndex;
        this.partUrl = "docs/" + this.mapName + "/" + this.mapIndex.toString() + "/" + this.layerIndex + "/Geoquery";
        this.partUrl += queryParam.getParameterURL();

        Zondy.Service.QueryServiceBase.prototype.initialize.apply(this);
    },
	改为：initialize: function (queryParam, docName, layerIndex, options) {
        /// <summary>构造函数</summary>
        /// <param name="queryParam" type="Zondy.Service.MultiGeoQueryParameter">多几何查询的参数类</param>
        /// <param name="docName" type="String">文档名称</param>
        /// <param name="mapIndex" type="Interger">地图序号</param>
        /// <param name="layerIndex" type="String">图层序号</param>
        /// <param name="options" type="Object">属性赋值对象</param>
        $.extend(this, options);

        this.queryParam = queryParam;
        this.mapName = docName;
//        this.mapIndex = mapIndex;
        this.layerIndex = layerIndex;
        this.partUrl = "docs/" + this.mapName + "/" + this.mapIndex.toString() + "/" + this.layerIndex + "/Geoquery";
        this.partUrl += queryParam.getParameterURL();

        Zondy.Service.QueryServiceBase.prototype.initialize.apply(this);
    },

/*modify by liuruoli 2016-04-18*/
67、更新了Zondy.Format.PolygonJSON类
    方法：parseVectors
	ps：将for循环中的var geometry = this.parseGeometry(zfeature.fGeom, zfeature.ftype);
	    改成：var geometry = this.parseGeometry(zfeature.fGeom, zfeature.Ftype);
	解决：返回结果解析中，不能直接转换为OL2的features的问题

/*modify by liuruoli 2016-04-18*/
68、更新了OpenLayers.Map.prototype.zoomTo函数
    ps：将OpenLayers.Map.prototype.zoomTo = function (zoom) {
   if ($.browser.msie && this.isAutoConfig === true && this.isSucceedAutoConfig === false) {
        this.zoomToArgs = arguments;
        return;
    }
    var map = this;
    if (map.isValidZoomLevel(zoom)) {
        if (map.baseLayer.wrapDateLine) {
            zoom = map.adjustZoom(zoom);
        }
        if (map.zoomTween) {
            var currentRes = map.getResolution(),
                    targetRes = map.getResolutionForZoom(zoom),
                    start = { scale: 1 },
                    end = { scale: currentRes / targetRes };
            if (map.zoomTween.playing && map.zoomTween.duration < 3 * map.zoomDuration) {
                // update the end scale, and reuse the running zoomTween
                map.zoomTween.finish = {
                    scale: map.zoomTween.finish.scale * end.scale
                };
            } else {
                if (!xy) {
                    var size = map.getSize();
                    xy = { x: size.w / 2, y: size.h / 2 };
                }
                map.zoomTween.start(start, end, map.zoomDuration, {
                    minFrameRate: 50, // don't spend much time zooming
                    callbacks: {
                        eachStep: function (data) {
                            var containerOrigin = map.layerContainerOriginPx,
                                    scale = data.scale,
                                    dx = ((scale - 1) * (containerOrigin.x - xy.x)) | 0,
                                    dy = ((scale - 1) * (containerOrigin.y - xy.y)) | 0;
                            map.applyTransform(containerOrigin.x + dx, containerOrigin.y + dy, scale);
                        },
                        done: function (data) {
                            map.applyTransform();
                            var resolution = map.getResolution() / data.scale,
                                    zoom = map.getZoomForResolution(resolution, true)
                            map.moveTo(map.getZoomTargetCenter(xy, resolution), zoom, true);
                        }
                    }
                });
            }
        } else {
            var center = xy ?
                    map.getZoomTargetCenter(xy, map.getResolutionForZoom(zoom)) :
                    null;
            map.setCenter(center, zoom);
        }
    }
};
    改成：OpenLayers.Map.prototype.zoomTo = function (zoom) {
    if ($.browser.msie && this.isAutoConfig === true && this.isSucceedAutoConfig === false) {
        this.zoomToArgs = arguments;
        return;
    }
    if (this.isValidZoomLevel(zoom)) {
        this.setCenter(null, zoom);
    }
};
    解决：替换1.23.1版本OL库之后，地图导航条和滚轮缩放不响应问题

/*modify by liuruoli 2016-04-18*/
69、更新了OpenLayers.Map.prototype.zoomToMaxExtent、
    OpenLayers.Map.prototype.zoomToExtent 、
	OpenLayers.Map.prototype.setCenter
	OpenLayers.Map.prototype.zoomTo的方法中的判断浏览器类型

/*modify by zl 2016-04-18*/
70、更新了Zondy.Service.HttpRequest类中的ajaxNormal方法里的浏览器判断类型的方法
    解决：jQuery高版本跨浏览器兼容问题

/*modify by liuruoli 2016-04-20*/
71、重写OL2原生方法OpenLayers.Tile.prototype.shouldDraw
    ps：新增代码OpenLayers.Tile.prototype.shouldDraw = function () {
    if (this.layer == null) {
        return false
    };
    var withinMaxExtent = false,
            maxExtent = this.layer.maxExtent;

    if (maxExtent) {
        var map = this.layer.map;
        var worldBounds = map.baseLayer.wrapDateLine && map.getMaxExtent();
        if (this.bounds.intersectsBounds(maxExtent, { inclusive: false, worldBounds: worldBounds })) {
            withinMaxExtent = true;
        }
    }

    return withinMaxExtent || this.layer.displayOutsideMaxExtent;

};
    解决：解决源代码显示/隐藏切换过程中矢量地图文档不显示，maxExtent为空的问题

/*modify by liuruoli 2016-04-20*/
72、更新Zondy.Map.HeatMapLayer类
    参数： CLASS_NAME
	ps：将CLASS_NAME: "Zondy.Layer.HeatMapLayer"
	    更改为：CLASS_NAME: "Zondy.Map.HeatMapLayer"

/*modify by liuruoli 2016-04-21*/
73、更新Zondy.Map.HeatMapLayer类
    方法：initialize
	ps：将 OpenLayers.Layer.Grid.prototype.initialize.apply(this, arguments);去掉
	解决：替换OL2库为2.13.1版本之后，热力图以及底图都不能显示的问题。

/*modify by zl 2016-04-22*/
74、更新Zondy.Map.TianDiTuLayer类
    方法：getURL
	ps：将var l = this.resolutions != null ?
            OpenLayers.Util.indexOf(this.resolutions, res):
            this.map.getZoom() + this.zoomOffset;
		改为：var l = this.resolutions != null ?
            OpenLayers.Util.indexOf(this.resolutions, res) + this.zoomOffset :
            this.map.getZoom() + this.zoomOffset;
	方法：setMap
	ps：新增 if (map != null && this.resolutions != null && this.isBaseLayer) {
            if (map.numZoomLevels && map.numZoomLevels < (this.resolutions.length - this.zoomOffset)) {
                this.resolutions = this.resolutions.slice(this.zoomOffset, this.zoomOffset + map.numZoomLevels);
            } else {
                this.resolutions = this.resolutions.slice(this.zoomOffset, this.resolutions.length);
            }
            
            map.resolutions = this.resolutions;
            map.maxResolution = this.resolutions[0];

        }
	类：Zondy.Enum.TianDiTu
	ps：删除Zondy.Enum.TianDiTu = {};
            Zondy.Enum.TianDiTu.Vecotr = 0;
            Zondy.Enum.TianDiTu.Raster = 1;
            Zondy.Enum.TianDiTu.Annotation = 2;
        新增枚举Zondy.Enum.TiandituType = {
    VEC: 'vector',         //天地图矢量数据
    IMG: 'raster',         //天地图影像数据
    CVA: 'vectorAnnotation',         //天地图矢量注记数据
    CIA: 'rasterAnnotation',         //天地图影像注记数据
    VEC_IGS: 'vector_igs', //天地图矢量数据(通过IGS)
    IMG_IGS: 'raster_igs', //天地图影像数据(通过IGS)
    CVA_IGS: 'vectorAnnotation_igs', //天地图矢量注记数据(通过IGS)
    CIA_IGS: 'rasterAnnotation_igs'  //天地图影像注记数据(通过IGS)
};
   参数：zoomOffset
   ps：将zoomOffset: 0,
       改为zoomOffset: 1,
	解决：天地图第0级无影像，控制用户不能缩放到该级别

/*modify by zl 2016-04-22*/
75、更新Zondy.Map.TianDiTuLayer类
    ps：将var i = (bounds.bottom + 90) / d;
        var j = (bounds.left + 180) / d;
        var row = parseInt(i);
        var c = parseInt(j);
        var r = parseInt(Math.pow(2, l - 1) - 1 - row);
      改为var r = Math.round((90 - bounds.top) / d);
        var c = Math.round((bounds.left + 180) / d);
 
    解决：天地图放大到15级及以后，图片错乱的问题

/*modify by zl 2016-04-26*/
76、更新Zondy.Map.GaodeLayer类
    解决：高德地图右侧和下侧留白底问题

/*modify by liuruoli 2016-04-26*/
77、更新Zondy.Format.PolygonJSON类
    方法：parseVectors
	ps：将var geometry = this.parseGeometry(zfeature.fGeom, zfeature.Ftype);
	    改成var geometry = this.parseGeometry(zfeature.fGeom, zfeature.ftype);
    解决：查询结果解析错误的问题

/*modify by liuruoli 2016-04-27*/
78、更新Zondy.Object.Circle类
	参数：radious
	ps：将radious
	    修改为radius

/*modify by liuruoli 2016-04-29*/
79、更新Zondy.Service.ProjectBase类
    参数：resultName
	ps：新增参数resultName=""


/*modify by wsy 2016-05-19*/

80、更新Zondy.Service.Catalog.TileLayer类
    方法：getTileInfo
	ps： this.partUrl = "tiles/" + this.tileName + "?f=" + this.resultFormat;
	修改为this.partUrl = "tiles/" + this.tileName + "?f=" + this.resultFormat + "&v=2.0";

81、更新Zondy.Service.Catalog.TileLayer类
    参数：新增参数 orderField，isAsc

82、更新Zondy.Service.QueryParameter类
	方法getParameterURL：
	新增两行
	if (this.orderField != null)
            paramUrl += "&orderField=" + this.orderField;
        if (this.isAsc != null)
            paramUrl += "&isAsc=" + this.isAsc;
	方法getParameterObject：
	新增两行
	 if (this.orderField != null)
            obj.orderField = this.orderField;
        if (this.isAsc != null)
            obj.isAsc = this.isAsc;

83、更新Zondy.Service.ObjClsQueryParameter类
	方法getParameterURL：
	将paramUrl += "&where=" + this.where
	修改为if (this.where != null) {
			paramUrl += "&where=" + this.where;
		}

84、新增客户端专题图Zondy.ClientTheme类及其相关类